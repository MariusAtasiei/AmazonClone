{"version":3,"sources":["components/variables.js","components/links.js","components/Input.js","book/CreateBook.js","components/BookMap.js","book/Filters.js","book/GetBooks.js","book/Book.js","components/ImageUploader.js","book/EditBook.js","user/Cart.js","user/Signin.js","user/Signup.js","user/Confirmation.js","user/Wishlist.js","user/Checkout.js","user/History.js","user/Order.js","admin/OrdersDashboard.js","MainRouter.js","components/UserDropdown.js","core/Header.js","App.js","index.js"],"names":["exports","inputs","name","type","orderInputs","getBooksLink","filters","search","page","process","filtersLink","bookLink","id","imageSrc","_id","cartLink","cart","Object","keys","join","Input","register","errors","value","lowercaseName","toLowerCase","style","maxWidth","includes","ref","required","className","accept","defaultValue","color","message","CreateBook","useForm","handleSubmit","useState","res","setRes","onSubmit","data","a","formData","FormData","forEach","key","keyData","length","append","headers","axios","post","map","addToCart","ev","preventDefault","target","JSON","parse","localStorage","getItem","undefined","setItem","stringify","Filters","price","setFilters","display","setDisplay","history","useHistory","useEffect","get","then","handleChange","split","filter","pop","push","filtersHTML","onClick","event","filtering","substring","slice","htmlFor","toUpperCase","onChange","defaultChecked","author","GetBooks","books","setBooks","setPages","useParams","jwt","username","user","url","catch","err","console","log","book","amount","opacity","cursor","to","title","src","Book","setBook","reviewDisplay","setReviewDisplay","rating","setRating","inputValue","setInputValue","error","setError","submitReview","comment","sendData","addToWishlist","wishlist","Error","wishlists","token","width","alignItems","count","newRate","size","activeColor","classNames","href","reviews","description","item","review","marginTop","for","React","image","setImage","files","img","URL","createObjectURL","height","EditBook","put","handleClick","delete","alert","columnCount","ImageUploader","Cart","setCart","requestedAmount","removeItem","scope","titlu","lastChar","getTitle","num","list","i","numberList","number","sum","totalPrice","class","Signin","text","setMessage","Signup","Confirmation","margin","justifyContent","Wishlist","setWishlist","ids","Checkout","orderedBy","History","orders","setOrders","status","numOfBooks","Order","order","setOrder","county","city","address","moment","createdAt","format","OrdersDashboard","setStatus","redirectPaths","MainRouter","pathname","useLocation","exact","path","component","UserDropdown","auth","role","data-toggle","aria-haspopup","aria-expanded","aria-hidden","aria-labelledby","go","Header","textDecoration","marginRight","placeholder","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7cfd3042.chunk.js","sourcesContent":["exports.inputs = [\n  { name: \"Image\", type: \"file\" },\n  { name: \"Title\", type: \"text\" },\n  { name: \"Author\", type: \"text\" },\n  {\n    name: \"Description\",\n    type: \"text\",\n  },\n  {\n    name: \"Category\",\n    type: \"text\",\n  },\n  {\n    name: \"Publisher\",\n    type: \"text\",\n  },\n  { name: \"Year\", type: \"number\" },\n  { name: \"Pages\", type: \"number\" },\n  { name: \"Price\", type: \"number\" },\n  {\n    name: \"Amount\",\n    type: \"number\",\n  },\n]\n\nexports.orderInputs = [\"City\", \"County\", \"Address\", \"Phone\"]\n","exports.getBooksLink = (filters, search, page) => {\n  return `${\n    process.env.REACT_APP_API_URL\n  }/book?fields=id,title,author,price,amount&page=${page || 1}&limit=8${\n    search ? `&search=${search}` : filters ? `&${filters}` : \"\"\n  }`\n}\nexports.filtersLink = `${process.env.REACT_APP_API_URL}/book/filters`\n\nexports.bookLink = (id) => `${process.env.REACT_APP_API_URL}/book/id=${id}`\n\nexports.imageSrc = ({ _id }) =>\n  `${process.env.REACT_APP_API_URL}/book/image/${_id}`\n\nexports.cartLink = (cart) =>\n  `${\n    process.env.REACT_APP_API_URL\n  }/book?fields=id,title,author,price,amount&_id=${Object.keys(cart).join(\",\")}`\n","import React from \"react\"\n\nfunction Input({ name, type, register, errors, value }) {\n  const lowercaseName = name.toLowerCase()\n\n  return (\n    <div\n      style={{\n        maxWidth: [\"Phone\", \"County\", \"City\", \"Address\"].includes(name)\n          ? 600\n          : 400,\n      }}\n    >\n      <label name={lowercaseName}>{name}</label>\n      {name !== \"Description\" ? (\n        <input\n          type={type}\n          name={lowercaseName}\n          ref={register({\n            required: `${name} required`,\n          })}\n          className=\"form-control\"\n          accept={type === \"file\" ? \"image/*\" : null}\n          defaultValue={value ? value : null}\n        />\n      ) : (\n        <textarea\n          type={type}\n          name={lowercaseName}\n          ref={register({\n            required: `${name} required`,\n          })}\n          className=\"form-control\"\n          accept={type === \"file\" ? \"image/*\" : null}\n          defaultValue={value ? value : null}\n        />\n      )}\n\n      {errors[lowercaseName] && (\n        <p style={{ color: \"red\" }}>{errors[lowercaseName].message}</p>\n      )}\n    </div>\n  )\n}\n\nexport default Input\n","import React, { useState } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport axios from \"axios\"\nimport Input from \"../components/Input\"\nimport { inputs } from \"../components/variables\"\n\nfunction CreateBook() {\n  const { register, handleSubmit, errors } = useForm()\n  const [res, setRes] = useState({ message: \"\", color: \"\" })\n\n  const onSubmit = async (data) => {\n    const formData = new FormData()\n    Object.keys(data).forEach((key) => {\n      let keyData = data[key]\n      const numberKeys = [\"year\", \"amount\", \"pages\", \"price\"]\n      if (key === \"image\") {\n        const lastIndex = keyData.length - 1\n        keyData = keyData[lastIndex]\n      } else if (numberKeys.includes(key)) {\n        keyData = keyData * 1\n      }\n\n      formData.append(key, keyData)\n    })\n\n    const headers = { \"content-type\": \"multipart/form-data\" }\n\n    try {\n      await axios.post(`${process.env.REACT_APP_API_URL}/book/`, formData, {\n        headers,\n      })\n\n      setRes({ message: \"Book succefully saved\", color: \"green\" })\n    } catch (err) {\n      setRes({ message: \"Book failed to save\", color: \"red\" })\n    }\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {inputs.map(({ name, type }) => (\n          <Input register={register} errors={errors} name={name} type={type} />\n        ))}\n\n        <p style={{ color: res.color }}>{res.message}</p>\n        <input type=\"submit\" className=\"btn btn-primary\" />\n      </form>\n    </div>\n  )\n}\n\nexport default CreateBook\n","import React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { imageSrc } from \"./links\"\nimport \"./css/Books.scss\"\n\nexport const getTitle = ({ title }) => {\n  let titlu = title.substring(0, 70).split(\" \")\n  titlu.pop()\n  titlu = titlu.join(\" \")\n  const lastChar = titlu[titlu.length - 1]\n\n  if ([\",\", \".\", \":\"].includes(lastChar)) titlu = titlu.slice(0, -1)\n\n  return titlu\n}\n\nexport const addToCart = (ev) => {\n  ev.preventDefault()\n\n  const { value } = ev.target\n  let cart = JSON.parse(localStorage.getItem(\"cart\"))\n\n  if (cart === null) cart = { [value]: 1 }\n  else if (cart[value] === undefined) cart[value] = 1\n  else cart[value] += 1\n\n  localStorage.setItem(\"cart\", JSON.stringify(cart))\n}\n\nexport const numberList = (num) => {\n  let list = [1]\n  for (let i = 2; i <= num; ++i) list.push(i)\n  return list\n}\n\nexport const BooksMap = ({ books, type }) => (\n  <div className=\"books-parent\">\n    {books.map((book) => (\n      <Book book={book} type={type} />\n    ))}\n  </div>\n)\n\nconst Book = ({ book, type }) => {\n  const jwt = JSON.parse(localStorage.getItem(\"jwt\"))\n  const username = jwt ? jwt.user.username : null\n\n  return (\n    <div className={`book${type === \"home\" ? \"\" : \"-wishlist\"}`}>\n      <Link to={`/book/${book.title}`} className=\"book-link\">\n        <img src={imageSrc(book)} className=\"book-link-img\" />\n      </Link>\n      <div className=\"book-link-div\">\n        <Link\n          to={`/book/${book.title}`}\n          style={{ color: \"black\" }}\n          className=\"book-link\"\n        >\n          <h4 className=\"book-link-title\">{book.title}</h4>\n        </Link>\n        <div className=\"book-infos\">\n          <div>\n            <h6 className=\"book-link-author\">{book.author}</h6>\n\n            <p>\n              {book.price}\n              <sup>00</sup> lei\n            </p>\n          </div>\n\n          {username === \"admin\" && type === \"home\" ? (\n            <Link\n              to={`/admin/edit-book/${book._id}`}\n              className=\"btn btn-primary\"\n            >\n              Edit Book\n            </Link>\n          ) : (\n            <button\n              onClick={addToCart}\n              value={book._id}\n              className={`btn btn-primary ${\n                type === \"wishlist\" ? \"book-link-div-button\" : null\n              }`}\n            >\n              Add cart\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport { filtersLink } from \"../components/links\"\nimport axios from \"axios\"\n\nimport \"./css/Filters.scss\"\n\nfunction Filters() {\n  const [filters, setFilters] = useState({\n    price: [\"0-50\", \"50-100\", \"100-200\", \"200-500\", \"500-1000\"],\n  })\n  const [data, setData] = useState({})\n  const [display, setDisplay] = useState(\"none\")\n  const history = useHistory()\n\n  useEffect(() => {\n    axios.get(filtersLink).then(({ data }) => {\n      setFilters({ ...filters, ...data })\n    })\n  }, [])\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    setDisplay(\"none\")\n    let filtering = Object.keys(data)\n      .map((key) => {\n        const keyData = data[key]\n        return keyData.length > 0 ? `${key}=${data[key].join(\",\")}` : \"\"\n      })\n      .join(\"&\")\n\n    if (filtering[0] === \"&\") filtering = filtering.substring(1)\n    if (filtering[filtering.length - 1] === \"&\")\n      filtering = filtering.slice(0, -1)\n\n    history.push(filtering.split(\"=\")[1] !== \"\" ? `/filters/${filtering}` : \"/\")\n  }\n\n  const handleChange = ({ target }) => {\n    const [key, filter] = target.value.split(\"=\")\n\n    if (data[key] && key !== \"price\") {\n      if (data[key].includes(filter)) data[key].pop(filter)\n      else data[key].push(filter)\n    } else data[key] = [filter]\n  }\n\n  const filtersHTML = (\n    <div className=\"filters\">\n      <button\n        style={{ display }}\n        onClick={() => setDisplay(display === \"none\" ? \"block\" : \"none\")}\n        className=\"filters-button-cancel\"\n      >\n        <span>x</span>\n      </button>\n      <form onSubmit={handleSubmit}>\n        {Object.keys(filters).map((key) => (\n          <div className=\"filters-group\">\n            <label htmlFor={key}>{`${key[0].toUpperCase()}${key.slice(\n              1\n            )}`}</label>\n            {filters[key].map((filter) => (\n              <div className=\"form-check\">\n                <input\n                  type={key === \"price\" ? \"radio\" : \"checkbox\"}\n                  name={key}\n                  defaultValue={data[key] ? data[key].includes(filter) : false}\n                  value={`${key}=${filter}`}\n                  onChange={handleChange}\n                  defaultChecked={\n                    data[key] ? data[key].includes(filter) : false\n                  }\n                  className=\"form-check-input\"\n                />\n                <label htmlFor={key} className=\"form-check-label\">\n                  {filter}\n                </label>\n              </div>\n            ))}\n          </div>\n        ))}\n        <input\n          type=\"submit\"\n          value=\"Filter\"\n          className=\"btn btn-info filters-submit\"\n        />\n      </form>\n    </div>\n  )\n\n  // if (!filters.author) return <div></div>\n\n  return (\n    <>\n      <button\n        className=\"filters-button\"\n        onClick={() => setDisplay(display === \"none\" ? \"block\" : \"none\")}\n      >\n        Filters\n      </button>\n\n      {filters.author && (\n        <>\n          <div className=\"filters-parent col-3\">{filtersHTML}</div>\n\n          <div className=\"filters-parent-mobile col-12\" style={{ display }}>\n            {filtersHTML}\n          </div>\n        </>\n      )}\n    </>\n  )\n}\n\nexport default Filters\n","import React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport { useParams, useHistory, Link } from \"react-router-dom\"\nimport { BooksMap, addToCart, numberList } from \"../components/BookMap\"\nimport { getBooksLink, imageSrc } from \"../components/links\"\nimport Filters from \"./Filters\"\nimport \"./css/Books.scss\"\n\nfunction GetBooks() {\n  const [books, setBooks] = useState([])\n  const [pages, setPages] = useState(0)\n  const { search, filters, page } = useParams()\n  const jwt = JSON.parse(localStorage.getItem(\"jwt\"))\n  const username = jwt ? jwt.user.username : null\n\n  useEffect(() => {\n    const url = getBooksLink(filters, search, page)\n\n    axios\n      .get(url)\n      .then(({ data }) => setBooks(data))\n      .catch((err) => console.log(err.message))\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/book/pages/2`)\n      .then(({ data }) => setPages(data.message))\n  }, [filters, search, page])\n\n  return (\n    <div className=\"books\">\n      <Filters />\n\n      <div className=\"books-map col-9\">\n        {books &&\n          books.map((book) => (\n            <div\n              className=\"book\"\n              style={\n                !book.amount ? { opacity: 0.5, cursor: \"not-allowed\" } : {}\n              }\n            >\n              <Link to={`/book/${book.title}`} className=\"book-link\">\n                <img\n                  src={`${process.env.REACT_APP_API_URL}/book/image/${book._id}`}\n                  className=\"book-link-img\"\n                />\n              </Link>\n              <div className=\"book-link-div\">\n                <Link\n                  to={`/book/${book.title}`}\n                  style={{ color: \"black\" }}\n                  className=\"book-link\"\n                >\n                  <h4 className=\"book-link-title\">{book.title}</h4>\n                  <h6 className=\"book-link-author\">{book.author}</h6>\n                </Link>\n                <p>\n                  {book.price}\n                  <sup>00</sup> lei\n                </p>\n\n                {username === \"admin\" ? (\n                  <Link\n                    to={`/admin/edit-book/${book._id}`}\n                    className=\"btn btn-primary\"\n                  >\n                    Edit Book\n                  </Link>\n                ) : (\n                  <button\n                    onClick={addToCart}\n                    value={book._id}\n                    className=\"btn btn-primary\"\n                    style={{\n                      cursor: book.amount ? \"pointer\" : \"not-allowed\",\n                    }}\n                  >\n                    Add cart\n                  </button>\n                )}\n              </div>\n            </div>\n          ))}\n      </div>\n\n      {/* {pages > 0 && (\n          <div className=\"book-pages\">\n            {numberList(pages).map((page) => (\n              <Link className=\"book-pages-button\" to={`/page=${page}`}>\n                {page}\n              </Link>\n            ))}\n          </div>\n        )} */}\n    </div>\n  )\n}\n\nexport default GetBooks\n","import React, { useState, useEffect } from \"react\"\nimport { useParams, useHistory } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport { bookLink, imageSrc } from \"../components/links\"\nimport { addToCart } from \"../components/BookMap\"\nimport ReactStars from \"react-rating-stars-component\"\nimport axios from \"axios\"\nimport \"./css/Book.scss\"\n\nfunction Book() {\n  const [book, setBook] = useState()\n  const [display, setDisplay] = useState(\"none\")\n  const [reviewDisplay, setReviewDisplay] = useState(\"none\")\n  const [rating, setRating] = useState(0)\n  const [inputValue, setInputValue] = useState(\"\")\n  const [error, setError] = useState({ color: \"\", message: \"\" })\n  const jwt = JSON.parse(localStorage.getItem(\"jwt\"))\n  const user = jwt ? jwt.user : {}\n  const { handleSubmit, register } = useForm()\n\n  const { id } = useParams()\n  const history = useHistory()\n\n  useEffect(() => {\n    axios.get(bookLink(id)).then(({ data }) => {\n      setBook(data)\n      if (data.rating) setRating(data.rating)\n    })\n  }, [reviewDisplay])\n\n  const ratingChange = (newRate) => setRating(newRate)\n\n  const ratingClicked = () => setReviewDisplay(\"block\")\n\n  const submitReview = async ({ comment }) => {\n    const { username } = user\n\n    const sendData = {\n      username: username || \"unkown\",\n      comment,\n      rating,\n    }\n\n    const { data } = await axios.post(\n      `${process.env.REACT_APP_API_URL}/book/review/${book._id}`,\n      sendData\n    )\n\n    if (data.error) console.log(data.error)\n    setReviewDisplay(\"none\")\n  }\n\n  const addToWishlist = async ({ wishlist }) => {\n    const { username } = user\n    const sendData = {\n      book: book._id,\n      name: wishlist,\n      username,\n    }\n\n    try {\n      if (!sendData.name) throw new Error(\"Please check a wishlist\")\n\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_API_URL}/wishlist/book`,\n        sendData\n      )\n\n      if (data.error) throw new Error(data.error)\n\n      const { message } = data\n      setError({ message, color: \"green\" })\n      if (!user.wishlists) {\n        user.wishlists = [sendData.name]\n        const { token } = JSON.parse(localStorage.getItem(\"jwt\"))\n        localStorage.setItem(\"jwt\", JSON.stringify({ token, user }))\n      } else if (!user.wishlists.includes(sendData.name)) {\n        user.wishlists.push(sendData.name)\n        const { token } = JSON.parse(localStorage.getItem(\"jwt\"))\n        localStorage.setItem(\"jwt\", JSON.stringify({ token, user }))\n      }\n    } catch ({ message }) {\n      setError({ message, color: \"red\" })\n    }\n  }\n\n  if (!book) return <div></div>\n\n  return (\n    <div className=\"book-parent\">\n      <div className=\"book-presentation\">\n        <div className=\"col-lg-5\">\n          <img src={imageSrc(book)} className=\"book-presentation-image\" />\n        </div>\n        <div className=\"book-presentation-info col-lg-7\">\n          <div\n            style={{\n              width: 195,\n              display: \"flex\",\n              alignItems: \"center\",\n            }}\n          >\n            <div\n              onClick={ratingClicked}\n              style={{\n                width: 108,\n              }}\n            >\n              <ReactStars\n                count={5}\n                onChange={ratingChange}\n                size={24}\n                activeColor=\"#ffd700\"\n                classNames=\"book-presentation-rating\"\n              />\n            </div>\n            <a href=\"#review\" style={{ color: \"gray\" }}>\n              ({book.reviews.length} review{book.reviews.length !== 1 && \"s \"})\n            </a>\n          </div>\n          <h5 className=\"book-presentation-info-title\">{book.title}</h5>\n          <h6 className=\"book-presentation-info-author\">{book.author}</h6>\n          <h4 className=\"book-presentation-info-price\">\n            {book.price}\n            <sup>00</sup> lei\n          </h4>\n          <div className=\"book-presentation-buttons\">\n            <button\n              onClick={addToCart}\n              value={book._id}\n              className=\"btn btn-primary book-presentation-buttons-add-cart\"\n            >\n              Add to Cart\n            </button>\n            <button\n              onClick={(ev) => {\n                ev.preventDefault()\n                if (!user.username) history.push(\"/signin\")\n\n                setDisplay(\"block\")\n              }}\n              value={book._id}\n              className=\"btn btn-primary book-presentation-buttons-add-wishlist\"\n            >\n              Add to wishlist\n            </button>\n          </div>\n        </div>\n      </div>\n      <div className=\"book-description\">\n        <h4 className=\"book-description-title\">Description</h4>\n        <p className=\"book-description-text\">{book.description}</p>\n      </div>\n      <div className=\"book-details\">\n        <h4 className=\"book-details-title\">Details</h4>\n        <table className=\"table table-striped\">\n          <tbody>\n            {[\"title\", \"author\", \"category\", \"pages\", \"publisher\", \"year\"].map(\n              (item) => (\n                <tr className=\"book-details-spec\">\n                  <th className=\"book-details-spec-item\">\n                    {item[0].toUpperCase() + item.slice(1, item.length)}\n                  </th>\n                  <td className=\"book-details-spec-info\">{book[item]}</td>\n                </tr>\n              )\n            )}\n          </tbody>\n        </table>\n      </div>\n      <div className=\"book-reviews\" id=\"review\">\n        <h4 className=\"book-reviews-title\">Reviews</h4>\n        {book.reviews > 0 ? (\n          book.reviews.map((review) => (\n            <div>\n              <h4>{review.username}</h4>\n              <ReactStars\n                count={5}\n                value={review.rating}\n                size={24}\n                classNames=\"book-presentation-rating\"\n              />\n              <p>{review.comment}</p>\n            </div>\n          ))\n        ) : (\n          <h5>No reviews to this book</h5>\n        )}\n      </div>\n      <div className=\"book-wishlist\" style={{ display: reviewDisplay }}>\n        <div className=\"book-wishlist-top\">\n          <h2>Write a review for your rating</h2>\n          <button\n            onClick={(ev) => {\n              ev.preventDefault()\n              setReviewDisplay(\"none\")\n            }}\n            className=\"book-wishlist-top-button\"\n          >\n            <span>X</span>\n          </button>\n        </div>\n        <form onSubmit={handleSubmit(submitReview)}>\n          <textarea name=\"comment\" ref={register} className=\"form-control\" />\n          <button className=\"btn btn-primary\" style={{ marginTop: 20 }}>\n            Submit\n          </button>\n        </form>\n      </div>\n      <div\n        style={{\n          display,\n        }}\n        className=\"book-wishlist\"\n      >\n        <div className=\"book-wishlist-top\">\n          <h2>Add to wishlist</h2>\n          <button\n            onClick={(ev) => {\n              ev.preventDefault()\n              setDisplay(\"none\")\n            }}\n            className=\"book-wishlist-top-button\"\n          >\n            <span>X</span>\n          </button>\n        </div>\n        <form\n          onSubmit={handleSubmit(addToWishlist)}\n          className=\"book-wishlist-form\"\n        >\n          {user.wishlists &&\n            user.wishlists.map((wishlist) => (\n              <div>\n                <input\n                  type=\"radio\"\n                  value={wishlist}\n                  name=\"wishlist\"\n                  id={wishlist}\n                  ref={register}\n                />\n                <label htmlFor={wishlist} className=\"book-wishlist-form-label\">\n                  {wishlist}\n                </label>\n              </div>\n            ))}\n          <input\n            type=\"radio\"\n            name=\"wishlist\"\n            id=\"write\"\n            value={inputValue}\n            ref={register}\n          />\n          <label for=\"write\" className=\"book-wishlist-form-label\">\n            <input\n              type=\"text\"\n              onChange={({ target: { value } }) => setInputValue(value)}\n              className=\"book-wishlist-form-input\"\n            />\n          </label>\n          <p style={{ color: error.color }}>{error.message}</p>\n          <button className=\"btn btn-primary book-wishlist-form-button\">\n            Submit\n          </button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Book\n","import React from \"react\"\n\nfunction Input({ register, errors, value }) {\n  const [image, setImage] = React.useState()\n\n  const handleChange = ({ target }) => {\n    if (target.files) {\n      const { files } = target\n      const img = files[files.length - 1]\n      if (img) setImage(URL.createObjectURL(img))\n    }\n  }\n\n  const imageSrc = image\n    ? image\n    : value\n    ? `${process.env.REACT_APP_API_URL}/book/image/${value}`\n    : null\n\n  return (\n    <>\n      <label name=\"image\">Image</label>\n      <input\n        type=\"file\"\n        name=\"image\"\n        ref={register({\n          required: value ? false : `Image required`,\n        })}\n        className=\"form-control-file\"\n        accept=\"image/*\"\n        onChange={handleChange}\n      />\n\n      <img\n        src={imageSrc}\n        style={{ height: 100, display: image || value ? \"block\" : \"none\" }}\n      />\n\n      {errors.image && <p style={{ color: \"red\" }}>{errors.image.message}</p>}\n    </>\n  )\n}\n\nexport default Input\n","import React, { useEffect, useState } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { useParams, useHistory } from \"react-router-dom\"\nimport axios from \"axios\"\nimport Input from \"../components/Input\"\nimport ImageUploader from \"../components/ImageUploader\"\nimport { bookLink } from \"../components/links\"\nimport { variables, inputs } from \"../components/variables\"\n\nfunction EditBook() {\n  const { register, handleSubmit, errors } = useForm()\n\n  const history = useHistory()\n  const [book, setBook] = useState()\n  const [error, setError] = useState({ message: \"\", color: \"\" })\n  const { id } = useParams()\n\n  useEffect(() => {\n    axios\n      .get(bookLink(id))\n      .then(({ data }) => setBook(data))\n      .catch((err) => console.log(err))\n  }, [])\n\n  const onSubmit = async (data) => {\n    const formData = new FormData()\n    Object.keys(data).forEach((key) => {\n      const keyData = data[key]\n      formData.append(\n        key,\n        key === \"image\"\n          ? keyData.length\n            ? keyData[keyData.length - 1]\n            : book.image\n          : keyData\n      )\n    })\n\n    formData.append(\"_id\", id)\n\n    const headers = { \"content-type\": \"multipart/form-data\" }\n\n    try {\n      await axios.put(`${process.env.REACT_APP_API_URL}/book/`, formData, {\n        headers,\n      })\n\n      setError({ message: \"Book updated succefully\", color: \"green\" })\n    } catch (err) {\n      setError({ message: \"Book failed to update\", color: \"red\" })\n    }\n  }\n\n  const handleClick = async () => {\n    try {\n      await axios.delete(`${process.env.REACT_APP_API_URL}/book/id=${book._id}`)\n\n      history.push(\"/\")\n      alert(\"Book deleted successfully\")\n    } catch (err) {\n      setError({ message: \"Book could not be deleted\", color: \"red\" })\n    }\n  }\n\n  if (!book) return <div></div>\n  return (\n    <div>\n      <form onSubmit={handleSubmit(onSubmit)} style={{ columnCount: 2 }}>\n        <ImageUploader register={register} errors={errors} value={book._id} />\n        {inputs.slice(1).map(({ name, type }) => (\n          <Input\n            register={register}\n            errors={errors}\n            name={name}\n            type={type}\n            value={book[name.toLowerCase()]}\n          />\n        ))}\n\n        <p style={{ color: error.color }}>{error.message}</p>\n\n        <input\n          type=\"submit\"\n          className=\"btn btn-primary\"\n          style={{ display: \"inline-block\" }}\n        />\n        <button\n          onClick={handleClick}\n          className=\"btn btn-danger\"\n          style={{ display: \"inline-block\" }}\n        >\n          Delete Book\n        </button>\n      </form>\n    </div>\n  )\n}\n\nexport default EditBook\n","import React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport { BooksMap, getTitle } from \"../components/BookMap\"\nimport { cartLink, imageSrc } from \"../components/links\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport \"./css/Cart.scss\"\n\nfunction Cart() {\n  const [cart, setCart] = useState(JSON.parse(localStorage.getItem(\"cart\")))\n  const [books, setBooks] = useState()\n  const [error, setError] = useState(\"\")\n  const history = useHistory()\n\n  useEffect(() => {\n    if (cart) {\n      axios.get(cartLink(cart)).then(({ data }) => {\n        data.forEach((book) => {\n          book.requestedAmount = cart[book._id]\n        })\n        setBooks(data)\n      })\n    }\n  }, [cart])\n\n  const checkout = () => {\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/book/checkout`, cart)\n      .then(({ data }) => {\n        if (!data) throw new Error(\"Out of stock\")\n        history.push(\"/checkout\")\n      })\n      .catch(({ message }) => setError(message))\n  }\n\n  const totalPrice = (books) => {\n    let sum = 0\n    books.forEach(\n      ({ requestedAmount, price }) => (sum += requestedAmount * price)\n    )\n    return sum\n  }\n\n  const getPrice = ({ requestedAmount, price }) => requestedAmount * price\n\n  const numberList = (num) => {\n    let list = [1]\n    for (let i = 2; i < num; ++i) list.push(i)\n    return list\n  }\n\n  const handleClick = ({ target }) => {\n    const { value } = target\n    const cart = JSON.parse(localStorage.getItem(\"cart\"))\n    delete cart[value]\n    if (Object.keys(cart).length === 0) {\n      localStorage.removeItem(\"cart\")\n      setCart(null)\n    } else {\n      localStorage.setItem(\"cart\", JSON.stringify(cart))\n      setCart(cart)\n    }\n  }\n\n  if (!cart) return <div>Cart is empty</div>\n  else if (!books) return <div></div>\n\n  return (\n    <>\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Book</th>\n            <th scope=\"col\">Amount</th>\n            <th scope=\"col\">Price</th>\n          </tr>\n        </thead>\n        <tbody>\n          {books.map((book) => (\n            <tr className=\"table-row\">\n              <td className=\"table-row-book\">\n                <div className=\"table-row-book-div\">\n                  <Link\n                    className=\"table-row-book-link\"\n                    to={`/book/${book.title}`}\n                  >\n                    <div className=\"table-row-book-image-div\">\n                      <img\n                        src={imageSrc(book)}\n                        className=\"table-row-book-image\"\n                      />\n                    </div>\n                  </Link>\n                  <div className=\"table-row-book-pres\">\n                    <Link\n                      className=\"table-row-book-link\"\n                      to={`/book/${book.title}`}\n                    >\n                      <p className=\"table-row-book-title\">{getTitle(book)}</p>\n                    </Link>\n                    <button\n                      onClick={handleClick}\n                      value={book._id}\n                      className=\"btn btn-danger book-cart-info-delete table-row-book-button\"\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              </td>\n              <td>\n                <div className=\"table-info\">\n                  {\n                    <select\n                      defaultValue={book.requestedAmount}\n                      onChange={({ target }) => {\n                        const cart = JSON.parse(localStorage.getItem(\"cart\"))\n                        cart[book._id] = target.value * 1\n                        localStorage.setItem(\"cart\", JSON.stringify(cart))\n                        book.requestedAmount = target.value * 1\n                        setCart(JSON.parse(localStorage.getItem(\"cart\")))\n                      }}\n                      className=\"form-control book-cart-info-select\"\n                    >\n                      {numberList(book.amount).map((number) => (\n                        <option>{number}</option>\n                      ))}\n                    </select>\n                  }\n                </div>\n              </td>\n              <td>\n                <p className=\"table-info\">\n                  {getPrice(book)}\n                  <sup>00</sup> RON\n                </p>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <div className=\"cart-footer\">\n        <p className=\"cart-footer-total\">\n          Total price: {totalPrice(books)}\n          <sup>00</sup> RON\n        </p>\n        <button class=\"btn btn-primary\" onClick={checkout}>\n          Checkout\n        </button>\n      </div>\n      <p className=\"cart-footer-error\">{error}</p>\n    </>\n  )\n}\n\nexport default Cart\n","import React, { useState } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { useHistory, Link } from \"react-router-dom\"\nimport axios from \"axios\"\nimport Input from \"../components/Input\"\nimport \"./css/Form.scss\"\n\nfunction Signin() {\n  const { register, handleSubmit, errors } = useForm()\n  const [message, setMessage] = useState({ text: null, color: \"green\" })\n  const history = useHistory()\n\n  const onSubmit = async (formData) => {\n    try {\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_API_URL}/auth/signin`,\n        formData\n      )\n\n      if (data.error) throw new Error(data.error)\n\n      localStorage.setItem(\"jwt\", JSON.stringify(data))\n\n      history.push(\"/\")\n    } catch ({ message }) {\n      setMessage({\n        text: message,\n        color: \"red\",\n      })\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"mt-5 mb-5\">Signin</h2>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <Input\n          type=\"text\"\n          name=\"Username\"\n          register={register}\n          errors={errors}\n        />\n        <Input\n          type=\"password\"\n          name=\"Password\"\n          register={register}\n          errors={errors}\n        />\n        <p style={{ color: message.color }}>{message.text}</p>\n        <div>\n          <button className=\"btn btn-raised btn-primary\">Sign in</button>\n          <Link className=\"btn btn-raised btn-primary\" to=\"/signup\">\n            Sign up\n          </Link>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default Signin\n","import React, { useState } from \"react\"\nimport { useForm } from \"react-hook-form\"\nimport { useHistory, Link } from \"react-router-dom\"\nimport axios from \"axios\"\nimport Input from \"../components/Input\"\nimport \"./css/Form.scss\"\n\nfunction Signup() {\n  const { register, handleSubmit, errors } = useForm()\n  const [message, setMessage] = useState({ text: null, color: \"green\" })\n  const history = useHistory()\n\n  const onSubmit = async (formData) => {\n    try {\n      const { data } = await axios.post(\n        `${process.env.REACT_APP_API_URL}/auth/signup`,\n        formData\n      )\n\n      if (data.error) throw new Error(data.error)\n\n      history.push(\"/\")\n    } catch (error) {\n      setMessage({ text: error.message, color: \"red\" })\n    }\n  }\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"mt-5 mb-5\">Signup</h2>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <Input type=\"email\" name=\"Email\" register={register} errors={errors} />\n        <Input\n          type=\"text\"\n          name=\"Username\"\n          register={register}\n          errors={errors}\n        />\n        <Input\n          type=\"password\"\n          name=\"Password\"\n          register={register}\n          errors={errors}\n        />\n        <p style={{ color: message.color }}>{message.text}</p>\n        <button className=\"btn btn-raised btn-primary\">Sign up</button>\n        <Link className=\"btn btn-raised btn-primary\" to=\"/signin\">\n          Sign in\n        </Link>\n      </form>\n    </div>\n  )\n}\n\nexport default Signup\n","import React, { useState, useEffect } from \"react\"\nimport { Link, useParams } from \"react-router-dom\"\nimport axios from \"axios\"\n\nfunction Confirmation() {\n  const [message, setMessage] = useState()\n  const { key } = useParams()\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/auth/confirmation/${key}`)\n      .then(({ data }) => setMessage(data))\n  }, [])\n\n  return (\n    <div style={{ margin: \"200px auto\", width: 400 }}>\n      <h1 className=\"text-center\">{message}</h1>\n      <Link\n        to=\"/signin\"\n        className=\"btn btn-primary\"\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        Go to sign in\n      </Link>\n    </div>\n  )\n}\n\nexport default Confirmation\n","import React, { useEffect, useState } from \"react\"\nimport { useHistory, Link } from \"react-router-dom\"\nimport { getBooksLink, addToCart } from \"../components/links\"\nimport axios from \"axios\"\nimport \"./css/Wishlist.scss\"\n\nfunction Wishlist() {\n  const history = useHistory()\n\n  const {\n    user,\n    user: { wishlists },\n  } = JSON.parse(localStorage.getItem(\"jwt\"))\n\n  const [books, setBooks] = useState()\n  const [wishlist, setWishlist] = useState(user.wishlists[0])\n\n  useEffect(() => {\n    if (!user) history.push(\"/signin\")\n\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/wishlist/one/${wishlist}`)\n      .then(({ data }) => {\n        const ids = data.wishlist.books\n\n        axios\n          .get(getBooksLink(`_id=${ids.join(\",\")}`))\n          .then(({ data }) => setBooks(data))\n      })\n      .catch(({ message }) => console.log(message))\n  }, [wishlist])\n\n  if (wishlists.length === 0) return <div>No wishlists</div>\n  return (\n    <div className=\"wishlist-list\">\n      <select\n        className=\"form-control\"\n        onChange={({ target: { value } }) => setWishlist(value)}\n      >\n        {wishlists.map((wishlist) => (\n          <option>{wishlist}</option>\n        ))}\n      </select>\n      {books && (\n        <div className=\"wishlist-books-map\">\n          {books.map((book) => (\n            <div\n              className=\"wishlist-book\"\n              style={\n                !book.amount ? { opacity: 0.5, cursor: \"not-allowed\" } : {}\n              }\n            >\n              <Link to={`/book/${book.title}`} className=\"wishlist-book-link\">\n                <div className=\"wishlist-book-link-img-div\">\n                  <img\n                    src={`${process.env.REACT_APP_API_URL}/book/image/${book._id}`}\n                    className=\"wishlist-book-link-img\"\n                  />\n                </div>\n              </Link>\n              <div className=\"wishlist-book-link-div\">\n                <Link\n                  to={`/book/${book.title}`}\n                  style={{ color: \"black\" }}\n                  className=\"wishlist-book-link\"\n                >\n                  <h4 className=\"wishlist-book-link-title\">{book.title}</h4>\n                  <h6 className=\"wishlist-book-link-author\">{book.author}</h6>\n                </Link>\n                <p className=\"wishlist-book-link-price\">\n                  {book.price}\n                  <sup>00</sup> lei\n                </p>\n\n                <button\n                  onClick={addToCart}\n                  value={book._id}\n                  className=\"btn btn-primary\"\n                  style={{\n                    cursor: book.amount ? \"pointer\" : \"not-allowed\",\n                  }}\n                >\n                  Add cart\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Wishlist\n","import React, { useState } from \"react\"\nimport { orderInputs } from \"../components/variables\"\nimport { cartLink } from \"../components/links\"\nimport Input from \"../components/Input\"\nimport { useForm } from \"react-hook-form\"\nimport axios from \"axios\"\nimport \"./css/Checkout.scss\"\n\nfunction Checkout() {\n  const [res, setRes] = useState(\"\")\n  const { register, handleSubmit, errors } = useForm()\n\n  const totalPrice = async (cart) => {\n    let sum = 0\n    const { data } = await axios.get(cartLink(cart))\n    data.forEach(({ price, _id }) => (sum += cart[_id] * price))\n    return sum\n  }\n\n  const onSubmit = async (data) => {\n    try {\n      const cart = JSON.parse(localStorage.getItem(\"cart\"))\n      if (!cart) throw new Error(\"Cart is empty\")\n\n      data.cart = cart\n\n      const jwt = localStorage.getItem(\"jwt\")\n      data.orderedBy = jwt ? JSON.parse(jwt).user.username : \"unknown\"\n\n      data.price = await totalPrice(cart)\n\n      const url = `${process.env.REACT_APP_API_URL}/book/order`\n\n      axios.post(url, data).then(({ data }) => {\n        if (data.error) setRes({ color: \"red\", message: data.error })\n        setRes({ color: \"green\", message: data.message })\n        localStorage.removeItem(\"cart\")\n      })\n    } catch ({ message }) {\n      setRes({ color: \"red\", message })\n    }\n  }\n\n  return (\n    <div className=\"checkout\">\n      <form className=\"checkout-form\" onSubmit={handleSubmit(onSubmit)}>\n        <h4 className=\"checkout-title\">Checkout</h4>\n\n        {orderInputs.map((item) => (\n          <Input errors={errors} register={register} type=\"text\" name={item} />\n        ))}\n        <p style={{ color: res.color }}>{res.message}</p>\n        <button className=\"btn btn-primary checkout-form-button\">Order</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Checkout\n","import React, { useEffect, useState } from \"react\"\nimport { useHistory, Link } from \"react-router-dom\"\nimport axios from \"axios\"\nimport \"./css/History.scss\"\n\nfunction History() {\n  const history = useHistory()\n  const [orders, setOrders] = useState()\n\n  const jwt = JSON.parse(localStorage.getItem(\"jwt\"))\n  if (!jwt) history.push(\"/signin\")\n  const { user } = jwt\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/book/order?user=${user.username}`)\n      .then(({ data }) => setOrders(data.orders))\n      .catch(({ message }) => console.log(message))\n  }, [])\n\n  if (!orders) return <div></div>\n\n  return (\n    <div>\n      {orders.map(({ _id, price, status, numOfBooks }) => (\n        <Link to={`/user/order/${_id}`} className=\"order-list-link\">\n          <div className=\"order-list-item1\">\n            <h3>{_id}</h3>\n            <p>Number of books: {numOfBooks}</p>\n          </div>\n          <div className=\"order-list-item2\">\n            <p>\n              Total: {price}\n              <sup>00</sup> RON\n            </p>\n            <p\n              style={{\n                color:\n                  status === \"Processing\"\n                    ? \"#c96800\"\n                    : status === \"Cancelled\"\n                    ? \"#363636\"\n                    : \"green\",\n              }}\n            >\n              Status: {status}\n            </p>\n          </div>\n        </Link>\n      ))}\n    </div>\n  )\n}\n\nexport default History\n","import React, { useState, useEffect } from \"react\"\nimport { Link, useParams } from \"react-router-dom\"\nimport axios from \"axios\"\nimport \"./css/Order.scss\"\nimport { imageSrc } from \"../components/links\"\nimport * as moment from \"moment\"\n\nfunction Order() {\n  const { id } = useParams()\n  const [order, setOrder] = useState()\n  const [books, setBooks] = useState()\n  const [message, setMessage] = useState({ text: \"\", message: \"\" })\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/book/order/id=${id}`)\n      .then(({ data: { order } }) => {\n        setOrder(order)\n        axios\n          .get(\n            `${\n              process.env.REACT_APP_API_URL\n            }/book?fields=id,title,author,price&page&_id=${Object.keys(\n              order.cart\n            )}`\n          )\n          .then(({ data }) => setBooks(data))\n          .catch(({ message }) => console.log(message))\n      })\n      .catch(({ message }) => console.log(message))\n  }, [])\n\n  const handleClick = async (ev) => {\n    ev.preventDefault()\n    const { _id } = order\n\n    try {\n      await axios.put(`${process.env.REACT_APP_API_URL}/book/order`, {\n        _id,\n        status: \"Cancelled\",\n      })\n\n      setMessage({ text: \"Order cancelled\", color: \"green\" })\n    } catch (err) {\n      setMessage({\n        text: \"We can't solve it right now, please try again later\",\n        color: \"red\",\n      })\n    }\n  }\n\n  if (!order) return <div></div>\n\n  const { cart } = order\n  return (\n    <div className=\"order\">\n      <div>\n        <h4>{order._id}</h4>\n      </div>\n      <div>\n        <h5>Address</h5>\n        <p>County: {order.county}</p>\n        <p>City: {order.city}</p>\n        <p>Street: {order.address} </p>\n        <p>\n          Price: {order.price}\n          <sup>00</sup> RON\n        </p>\n        <p>Date: {moment(order.createdAt).format(\"YYYY-MM-DD\")}</p>\n        <p>Status: {order.status}</p>\n      </div>\n      <div className=\"order-books\">\n        <h4 className=\"order-books-title\">Books({order.numOfBooks})</h4>\n        <div className=\"order-books-map\">\n          {books &&\n            books.map((book) => (\n              <div className=\"order-books-item\">\n                <h3 className=\"order-books-item-multiple\">\n                  {cart[book._id]} X\n                </h3>\n                <Link to={`/book/${book.title}`}>\n                  <img src={imageSrc(book)} style={{ height: 100 }} />\n                </Link>\n              </div>\n            ))}\n        </div>\n      </div>\n      <div className=\"order-cancel\">\n        <button\n          className=\"btn btn-raised btn-primary \"\n          onClick={handleClick}\n          value={order._id}\n        >\n          Cancel order\n        </button>\n        <p style={{ color: message.color, marginTop: 10 }}>{message.text}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default Order\n","import React, { useState, useEffect } from \"react\"\nimport { useHistory, Link } from \"react-router-dom\"\nimport axios from \"axios\"\nimport \"./css/dashboard.scss\"\n\nfunction OrdersDashboard() {\n  const history = useHistory()\n  const jwt = localStorage.getItem(\"jwt\")\n  const [orders, setOrders] = useState()\n  const [status, setStatus] = useState(\"\")\n\n  if (!jwt || JSON.parse(jwt).user.username !== \"admin\") history.push(\"/\")\n\n  const handleChange = ({ target }) => setStatus(target.value)\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/book/order?status=${status}`)\n      .then(({ data }) => setOrders(data.orders))\n  }, [status])\n\n  const handleClick = async ({ target }) => {\n    const [status, _id] = target.value.split(\"-\")\n    try {\n      await axios.put(`${process.env.REACT_APP_API_URL}/book/order`, {\n        status,\n        _id,\n      })\n      alert(\"Order successfully updated\")\n    } catch (err) {\n      alert(\"Order couldn't be updated\")\n    }\n  }\n\n  if (!orders) return <div></div>\n\n  return (\n    <div>\n      <h1>Dashboard</h1>\n      <div>\n        <label>Status: </label>\n        <select onChange={handleChange}>\n          <option value=\"\">All</option>\n          <option value=\"Processing\">Processing</option>\n          <option value=\"Delivered\">Delivered</option>\n          <option value=\"Cancelled\">Cancelled</option>\n        </select>\n        <div>\n          <table class=\"table table-striped\">\n            <thead>\n              <tr>\n                <th className=\"order-column-id\" scope=\"col\">\n                  #\n                </th>\n                <th scope=\"col\">Username</th>\n                <th scope=\"col\">Books</th>\n                <th scope=\"col\">Price</th>\n                <th scope=\"col\">County</th>\n                <th scope=\"col\">City</th>\n                <th scope=\"col\">Address</th>\n                <th scope=\"col\">Buttons</th>\n              </tr>\n            </thead>\n            <tbody>\n              {orders.map((order) => (\n                <tr>\n                  <Link to={`/user/order/${order._id}`} className=\"order-link\">\n                    <th className=\"order-column-id\" scope=\"row\">\n                      {order._id}\n                    </th>\n                  </Link>\n                  <td>{order.orderedBy}</td>\n                  <td>{order.numOfBooks}</td>\n                  <td>{order.price}</td>\n                  <td>{order.county}</td>\n                  <td>{order.city}</td>\n                  <td>{order.address}</td>\n                  <td>\n                    <button\n                      className=\"order-buttons order-buttons-delivered\"\n                      value={`Delivered-${order._id}`}\n                      onClick={handleClick}\n                    >\n                      \n                    </button>\n                    <button\n                      className=\"order-buttons order-buttons-cancel\"\n                      value={`Cancelled-${order._id}`}\n                      onClick={handleClick}\n                    >\n                      x\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default OrdersDashboard\n","import React from \"react\"\nimport { Switch, Route, useLocation, Redirect } from \"react-router-dom\"\nimport CreateBook from \"./book/CreateBook\"\nimport GetBooks from \"./book/GetBooks\"\nimport Book from \"./book/Book\"\nimport EditBook from \"./book/EditBook\"\nimport Cart from \"./user/Cart\"\nimport Signin from \"./user/Signin\"\nimport Signup from \"./user/Signup\"\nimport Confirmation from \"./user/Confirmation\"\nimport Wishlist from \"./user/Wishlist\"\nimport Checkout from \"./user/Checkout\"\nimport History from \"./user/History\"\nimport Order from \"./user/Order\"\nimport OrdersDashboard from \"./admin/OrdersDashboard\"\nimport \"./App.scss\"\n\nfunction MainRouter() {\n  const { pathname } = useLocation()\n\n  return (\n    <div className=\"app-main\">\n      {redirectPaths.includes(pathname) && <Redirect to=\"/\" />}\n      <Switch>\n        <Route exact path=\"/\" component={GetBooks} />\n        <Route path=\"/page=:page\" component={GetBooks} />\n        <Route path=\"/search=:search\" component={GetBooks} />\n        <Route path=\"/filters/:filters\" component={GetBooks} />\n        <Route path=\"/filters\" component={GetBooks} />\n        <Route path=\"/signin\" component={Signin} />\n        <Route path=\"/signup\" component={Signup} />\n        <Route path=\"/book/:id\" component={Book} />\n        <Route path=\"/admin/create-book\" component={CreateBook} />\n        <Route path=\"/admin/edit-book/:id\" component={EditBook} />\n        <Route path=\"/cart\" component={Cart} />\n        <Route path=\"/confirmation/:key\" component={Confirmation} />\n        <Route path=\"/user/wishlist\" component={Wishlist} />\n        <Route path=\"/user/history\" component={History} />\n        <Route path=\"/user/order/:id\" component={Order} />\n        <Route path=\"/checkout\" component={Checkout} />\n        <Route path=\"/admin/dashboard\" component={OrdersDashboard} />\n      </Switch>\n    </div>\n  )\n}\n\nconst redirectPaths = [\"/filters/\"]\n\nexport default MainRouter\n","import React from \"react\"\nimport { Link, useHistory, useLocation } from \"react-router-dom\"\nimport \"../core/css/Header.scss\"\n\nfunction UserDropdown() {\n  const history = useHistory()\n  const { pathname } = useLocation()\n\n  const auth = localStorage.getItem(\"jwt\") !== null\n\n  const signout = () => {\n    localStorage.removeItem(\"jwt\")\n    if (pathname === \"/\") history.go()\n    else history.push(\"/\")\n  }\n\n  return (\n    <div className=\"dropdown show \">\n      <a\n        className=\"navbar-icons-link\"\n        role=\"button\"\n        href=\"#\"\n        id=\"dropdownMenuLink\"\n        data-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n      >\n        <i className=\"fa fa-user navbar-icons-link-icon\" aria-hidden=\"true\" />\n      </a>\n\n      <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n        {auth ? (\n          <>\n            <Link className=\"dropdown-item\" to=\"/user/wishlist\">\n              Wishlist\n            </Link>\n            <Link className=\"dropdown-item\" to=\"/user/history\">\n              History\n            </Link>\n            <Link className=\"dropdown-item\" onClick={signout}>\n              Sign out\n            </Link>\n          </>\n        ) : (\n          <>\n            <Link className=\"dropdown-item\" to=\"/signin\">\n              Sign in\n            </Link>\n            <Link className=\"dropdown-item\" to=\"/signup\">\n              Sign up\n            </Link>\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default UserDropdown\n","import React from \"react\"\nimport { useHistory, Link } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport UserDropdown from \"../components/UserDropdown\"\nimport \"./css/Header.scss\"\n\nfunction Header() {\n  const { register, handleSubmit } = useForm()\n  const history = useHistory()\n\n  const onSubmit = ({ search }) => {\n    if (search) history.push(`/search=${search}`)\n    else history.push(`/`)\n  }\n\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <Link\n        style={{ color: \"white\", textDecoration: \"none\", marginRight: 10 }}\n        to=\"/\"\n        className=\"navbar-logo\"\n      >\n        <img\n          src={`${process.env.PUBLIC_URL}/images.png`}\n          className=\"navbar-logo-img\"\n        />\n        <p className=\"navbar-logo-text\">OnlineLibrary</p>\n      </Link>\n\n      <div className=\"navbar-search\">\n        <form className=\"navbar-search-form\" onSubmit={handleSubmit(onSubmit)}>\n          <input\n            type=\"text\"\n            placeholder=\"Search..\"\n            name=\"search\"\n            className=\"navbar-search-form-input\"\n            ref={register}\n          />\n          <button type=\"submit\" className=\"navbar-search-form-button\">\n            <i className=\"fa fa-search\" />\n          </button>\n        </form>\n      </div>\n      <div className=\"navbar-icons\">\n        <UserDropdown />\n\n        <Link to=\"/cart\" className=\"navbar-icons-link\">\n          <i className=\"fa fa-shopping-cart navbar-icons-link-icon\" />\n        </Link>\n      </div>\n    </nav>\n  )\n}\n\nexport default Header\n","import React from \"react\"\nimport { BrowserRouter as Router } from \"react-router-dom\"\nimport MainRouter from \"./MainRouter\"\nimport Header from \"./core/Header\"\nimport \"./App.scss\"\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Header />\n        <MainRouter />\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport \"bootstrap/dist/css/bootstrap.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}