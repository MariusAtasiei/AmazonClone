{"version":3,"sources":["context/StateProvider.tsx","core/Header.tsx","pages/components/Product.tsx","pages/Home.tsx","pages/components/Subtotal.tsx","pages/components/CheckoutProduct.tsx","pages/Checkout.tsx","auth/Input.tsx","auth/Login.tsx","auth/Register.tsx","auth/Confirmation.tsx","auth/ForgotPassword.tsx","auth/ResetPassword.tsx","pages/Payment.tsx","pages/components/Order.tsx","pages/Orders.tsx","App.tsx","serviceWorker.ts","context/reducer.ts","index.tsx"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Header","basket","user","dispatch","className","to","src","alt","type","href","onClick","ev","preventDefault","username","length","ratingStars","rating","countStars","map","_","index","key","num","array","Product","id","title","image","price","item","Home","getTotal","products","reduce","accumulate","amount","Subtotal","renderText","decimalScale","displayType","thousandSeparator","prefix","CheckoutProduct","hideButton","basketMap","FunctionalProduct","forwardRef","ref","Checkout","setType","visibility","setInputErrors","name","pattern","message","maxLength","passwordEye","setVisibility","handleClick","VisibilityOff","fontSize","Visibility","Radium","register","errors","useState","inputStyle","borderColor","outlineColor","style","color","required","minLength","Login","error","setError","useForm","handleSubmit","history","useHistory","onSubmit","data","a","axios","post","process","response","res","Error","push","url","Confirmation","validation","setValidation","useParams","useEffect","get","then","marginBottom","textDecoration","ForgotPassword","email","alert","padding","ResetPassword","catch","textAlign","Payment","stripe","useStripe","elements","useElements","disabled","setDisabled","succeeded","setSucceeded","clientSecret","setClientSecret","processing","setProcessing","event","payment_method","card","getElement","CardElement","payMethod","stripePromise","confirmCardPayment","paymentIntent","userId","_id","undefined","replace","_username","onChange","empty","Order","createdAt","moment","format","Orders","orders","setOrders","console","log","err","includes","promise","loadStripe","App","exact","path","Register","Boolean","window","location","hostname","match","localStorage","getItem","JSON","parse","getLocalBasket","getLocalUser","ReactDOM","render","StrictMode","state","action","newBasket","setItem","stringify","findIndex","updateBasket","splice","warn","removeItem","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e5792a7f.chunk.js","sourcesContent":["import React, { createContext, useReducer, useContext } from \"react\"\n\nexport const StateContext = createContext({} as any)\n\nexport const StateProvider = ({ reducer, initialState, children }: any) => (\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\n    {children}\n  </StateContext.Provider>\n)\n\nexport const useStateValue = () => useContext(StateContext)\n","import React from \"react\"\nimport SearchIcon from \"@material-ui/icons/Search\"\nimport { Link } from \"react-router-dom\"\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\"\nimport \"./style/Header.scss\"\nimport { useStateValue } from \"../context/StateProvider\"\n\nfunction Header() {\n  const [{ basket, user }, dispatch] = useStateValue()\n\n  const handleClick = (ev: any) => {\n    ev.preventDefault()\n\n    if (!user) return\n\n    dispatch({ type: \"UNSIGNING\" })\n    return\n  }\n\n  return (\n    <div className=\"header\">\n      <Link to=\"/\">\n        <img\n          className=\"header__logo\"\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"\n          alt=\"logo\"\n        />\n      </Link>\n\n      <div className=\"header__search\">\n        <input type=\"text\" className=\"header__search__input\" />\n        <SearchIcon className=\"header__search__icon\" />\n      </div>\n\n      <div className=\"header__nav\">\n        {!user ? (\n          <Link to=\"/login\">\n            <div className=\"header__nav__option\">\n              <span className=\"header__nav__option__line-one\">\n                Hello, guest\n              </span>\n\n              <span className=\"header__nav__option__line-two\">\n                Sign {user ? \"out\" : \"in\"}\n              </span>\n            </div>\n          </Link>\n        ) : (\n          <a href=\"\" onClick={handleClick}>\n            <div className=\"header__nav__option\">\n              <span className=\"header__nav__option__line-one\">\n                Hello, {user.username}\n              </span>\n\n              <span className=\"header__nav__option__line-two\">\n                Sign {user ? \"out\" : \"in\"}\n              </span>\n            </div>\n          </a>\n        )}\n\n        <Link to=\"/orders\">\n          <div className=\"header__nav__option\">\n            <span className=\"header__nav__option__line-one\">Returns</span>\n\n            <span className=\"header__nav__option__line-two\">& Orders</span>\n          </div>\n        </Link>\n\n        <div className=\"header__nav__option\">\n          <span className=\"header__nav__option__line-one\">Your</span>\n\n          <span className=\"header__nav__option__line-two\">Prime</span>\n        </div>\n\n        <Link to=\"/checkout\" className=\"header__basket__link\">\n          <div className=\"header__basket\">\n            <ShoppingBasketIcon />\n\n            <span className=\"header__nav__option__line-two header__basket__count\">\n              {basket.length}\n            </span>\n          </div>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nexport default Header\n","import React from \"react\"\nimport \"../style/Product.scss\"\nimport StarIcon from \"@material-ui/icons/Star\"\nimport { useStateValue } from \"../../context/StateProvider\"\n\nfunction Product({ id, title, image, price, rating }: any) {\n  const dispatch = useStateValue()[1]\n\n  const addToBasket = () => {\n    const item = { id, title, image, price, rating }\n    const type: String = \"ADD_TO_BASKET\"\n\n    dispatch({ type, item })\n  }\n\n  return (\n    <div className=\"product\" key={id}>\n      <div className=\"product__info\">\n        <p>{title}</p>\n        <p className=\"product__price\">\n          <small>$</small>\n          <strong>{price}</strong>\n        </p>\n\n        <div className=\"product_rating\">{ratingStars(rating)}</div>\n      </div>\n\n      <img src={image} alt=\"product\" />\n\n      <button onClick={addToBasket}>Add to Basket</button>\n    </div>\n  )\n}\n\nexport const ratingStars = (rating: number) =>\n  countStars(rating).map((_, index) => <StarIcon key={index} />)\n\nconst countStars = (num: number, array: number[] = []): number[] =>\n  num === 1 ? [1, ...array] : countStars(num - 1, [num, ...array])\n\nexport default Product\n","import React from \"react\"\nimport \"./style/Home.scss\"\nimport Product from \"../pages/components/Product\"\n\nfunction Home() {\n  return (\n    <div className=\"home\">\n      <div className=\"home__container\">\n        <img\n          className=\"home__image\"\n          src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\n          alt=\"home\"\n        />\n\n        <div className=\"home__row\">\n          <Product\n            id=\"12321341\"\n            title=\"The lean startup\"\n            price={29.99}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL.AC_SY400_.jpg\"\n            rating={5}\n          />\n          <Product\n            id=\"49538094\"\n            title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\n            price={239.0}\n            image=\"https://images-eu.ssl-images-amazon.com/images/I/41RLXO5JUhL._AC_SX368_.jpg\"\n            rating={4}\n          />\n        </div>\n\n        <div className=\"home__row\">\n          <Product\n            id=\"4903850\"\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor\"\n            price={199.99}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466.jpg\"\n            rating={3}\n          />\n          <Product\n            id=\"23445930\"\n            title=\"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric\"\n            price={98.99}\n            image=\"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$\"\n            rating={5}\n          />\n          <Product\n            id=\"3254354345\"\n            title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\n            price={29.99}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\n            rating={5}\n          />\n        </div>\n\n        <div className=\"home__row\">\n          <Product\n            id=\"90829332\"\n            title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\n            price={1094.98}\n            rating={4}\n            image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Home\n","import React from \"react\"\nimport \"../style/Subtotal.scss\"\n// @ts-ignore\nimport * as CurrencyFormat from \"react-currency-format\"\nimport { useStateValue } from \"../../context/StateProvider\"\nimport { Link } from \"react-router-dom\"\n\nfunction Subtotal() {\n  const { basket } = useStateValue()[0]\n\n  return (\n    <div className=\"subtotal\">\n      <CurrencyFormat\n        renderText={(value: number) => (\n          <>\n            <p>\n              Subtotal ({basket.length} items) : <strong>{`${value}`}</strong>\n            </p>\n            <small className=\"subtotal__gift\">\n              <input type=\"checkbox\" /> This order contains a gift\n            </small>\n          </>\n        )}\n        decimalScale={2}\n        value={getTotal(basket)}\n        displayType=\"text\"\n        thousandSeparator={true}\n        prefix=\"$\"\n      />\n      <Link to=\"/payment\">\n        <button>Procced to checkout</button>\n      </Link>\n    </div>\n  )\n}\n\nexport const getTotal = (products: any[]) => products?.reduce(accumulate, 0)\n\nconst accumulate = (amount: any, { price }: any) => amount + price\n\nexport default Subtotal\n","import React from \"react\"\nimport \"../style/CheckoutProduct.scss\"\nimport { ratingStars } from \"./Product\"\nimport { useStateValue } from \"../../context/StateProvider\"\n\nfunction CheckoutProduct({ id, image, title, price, rating, hideButton }: any) {\n  const dispatch = useStateValue()[1]\n\n  const removeFromBasket = () => {\n    dispatch({ type: \"REMOVE_FROM_BASKET\", id })\n  }\n\n  return (\n    <div className=\"checkoutProduct\">\n      <img className=\"checkoutProduct__image\" src={image} alt=\"product\" />\n\n      <div className=\"checkoutProduct__info\">\n        <p className=\"checkoutProduct__title\">{title}</p>\n\n        <p className=\"checkoutProduct__price\">\n          <small>$</small>\n          <strong>{price}</strong>\n        </p>\n\n        <div className=\"checkoutProduct__rating\">{ratingStars(rating)}</div>\n\n        {!hideButton && (\n          <button onClick={removeFromBasket}>Remove from basket</button>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default CheckoutProduct\n","import React, { forwardRef } from \"react\"\nimport Subtotal from \"./components/Subtotal\"\nimport \"./style/Checkout.scss\"\nimport CheckoutProduct from \"./components/CheckoutProduct\"\nimport { useStateValue } from \"../context/StateProvider\"\nimport FlipMove from \"react-flip-move\"\n\nfunction Checkout() {\n  const { basket } = useStateValue()[0]\n\n  return (\n    <div className=\"checkout\">\n      <div className=\"checkout__left\">\n        <img\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492667_.jpg\"\n          alt=\"\"\n          className=\"checkout__ad\"\n        />\n\n        <div>\n          <h2 className=\"checkout__title\">Your shoppping Basket</h2>\n        </div>\n\n        {basketMap(basket, false)}\n      </div>\n\n      <div className=\"checkout__right\">\n        <Subtotal />\n      </div>\n    </div>\n  )\n}\n\nexport const basketMap = (basket: any, hideButton: boolean) => (\n  <FlipMove>\n    {basket.map(({ id, title, image, price, rating }: any) => (\n      <FunctionalProduct\n        id={id}\n        title={title}\n        image={image}\n        price={price}\n        rating={rating}\n        hideButton={hideButton}\n      />\n    ))}\n  </FlipMove>\n)\n\nconst FunctionalProduct = forwardRef(\n  ({ id, title, image, price, rating, hideButton }: any, ref: any) => (\n    <div ref={ref}>\n      <CheckoutProduct\n        id={id}\n        title={title}\n        image={image}\n        price={price}\n        rating={rating}\n        hideButton={hideButton}\n      />\n    </div>\n  )\n)\n\nexport default Checkout\n","import React, { useState } from \"react\"\nimport Radium from \"radium\"\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\"\n\nfunction Input({ name, register, errors }: any) {\n  const [visibility, setVisibility] = useState(false)\n\n  const inputStyle = {\n    borderColor: errors[name] ? \"red\" : \"\",\n    \":focus\": { outlineColor: errors[name] ? \"red\" : \"\" },\n  }\n\n  return (\n    <div>\n      <h5 style={{ color: errors[name] ? \"red\" : \"\" }}>\n        <span>{name}</span>\n        {name === \"password\" && passwordEye(name, visibility, setVisibility)}\n      </h5>\n      <input\n        type={setType(name, visibility)}\n        name={name}\n        ref={register({\n          required: ` required`,\n          minLength: {\n            value: 6,\n            message: ` must be at least 6 characters`,\n          },\n          ...setInputErrors(name),\n        })}\n        style={inputStyle}\n      />\n      <p>\n        {errors[name] ? (\n          <>\n            <span>{name}</span>\n            {errors[name].message}\n          </>\n        ) : (\n          \"\"\n        )}\n      </p>\n    </div>\n  )\n}\n\nconst setType = (type: string, visibility: boolean) =>\n  type === \"password\" ? (visibility ? \"text\" : \"password\") : type\n\nconst setInputErrors = (name: string): object =>\n  name === \"email\"\n    ? {\n        pattern: {\n          value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\n          message: \" invalid\",\n        },\n      }\n    : {\n        maxLength: {\n          value: 24,\n          message: ` must have maximum 24 characters`,\n        },\n      }\n\nconst passwordEye = (name: string, visibility: boolean, setVisibility: any) => {\n  const handleClick = (ev: any) => {\n    ev.preventDefault()\n    setVisibility(!visibility)\n  }\n\n  return name === \"password\" ? (\n    visibility ? (\n      <VisibilityOff fontSize=\"small\" onClick={handleClick} />\n    ) : (\n      <Visibility fontSize=\"small\" onClick={handleClick} />\n    )\n  ) : null\n}\n\nexport default Radium(Input)\n","import React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport Input from \"./Input\"\nimport axios from \"axios\"\nimport \"./style/Auth.scss\"\nimport { useStateValue } from \"../context/StateProvider\"\n\nfunction Login() {\n  const [error, setError] = useState(\"\")\n  const { errors, handleSubmit, register } = useForm()\n  const dispatch = useStateValue()[1]\n  const history = useHistory()\n\n  const onSubmit = async (data: any) => {\n    try {\n      const response = await axios.post(\n        `${process.env.REACT_APP_API_URL}/auth/signin`,\n        data\n      )\n      const res = response.data\n\n      if (res.error) throw new Error(res.error)\n\n      const { user } = res\n\n      dispatch({ type: \"SIGNING\", user })\n      history.push(\"/\")\n    } catch ({ message }) {\n      setError(message)\n    }\n  }\n\n  return (\n    <div className=\"login\">\n      <Link to=\"/\">\n        <img\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n          alt=\"logo\"\n          className=\"login__logo\"\n        />\n      </Link>\n\n      <div className=\"login__container\">\n        <h1>Log in</h1>\n\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Input name=\"email\" register={register} errors={errors} />\n\n          <Input name=\"password\" register={register} errors={errors} />\n\n          <p style={{ color: \"red\" }}>{error}</p>\n          <button className=\"login__button__login\">Log In</button>\n        </form>\n\n        <p>\n          By logging in you agree to the AMAZON FAKE CLONE Conditions of Use{\" \"}\n          {\"&\"} Sale. Please see our Privacy Notice, our Cookies Notice and our\n          Interest-Based Ads Notice.\n        </p>\n\n        <div className=\"login__register\">\n          <p className=\"login__register__question\">\n            Don't you have an Amazon Fake Clone account?\n          </p>\n          <Link to=\"/register\">\n            <button className=\"login__button__register\">Go to Register</button>\n          </Link>\n\n          <p className=\"login__register__question\">\n            Did you forget the password?\n          </p>\n          <Link to=\"/forgot-password\">\n            <button className=\"login__button__register\">Let's reset it</button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport Input from \"./Input\"\nimport axios from \"axios\"\nimport \"./style/Auth.scss\"\nimport { useStateValue } from \"../context/StateProvider\"\n\nfunction Login() {\n  const [error, setError] = useState(\"\")\n  const { errors, handleSubmit, register } = useForm()\n  const dispatch = useStateValue()[1]\n  const history = useHistory()\n\n  const onSubmit = async (data: any) => {\n    try {\n      const url: string = `${process.env.REACT_APP_API_URL}/auth/signup`\n      const response = await axios.post(url, data)\n      const res = response.data\n\n      if (res.error) throw new Error(res.error)\n\n      const { user } = res\n\n      dispatch({ type: \"SIGNING\", user })\n      history.push(\"/\")\n    } catch ({ message }) {\n      setError(\"Email already assigned to an user\")\n    }\n  }\n\n  return (\n    <div className=\"login\">\n      <Link to=\"/\">\n        <img\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n          alt=\"\"\n          className=\"login__logo\"\n        />\n      </Link>\n\n      <div className=\"login__container\">\n        <h1>Register</h1>\n\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Input name=\"username\" register={register} errors={errors} />\n\n          <Input name=\"email\" register={register} errors={errors} />\n\n          <Input name=\"password\" register={register} errors={errors} />\n\n          <p style={{ color: \"red\" }}>{error}</p>\n          <button className=\"login__button__login\">Register</button>\n        </form>\n\n        <p>\n          By logging in you agree to the AMAZON FAKE CLONE Conditions of Use\n          {\" &\"} Sale. Please see our Privacy Notice, our Cookies Notice and our\n          Interest-Based Ads Notice.\n        </p>\n\n        <div className=\"login__register\">\n          <p className=\"login__register__question\">\n            Do you have an Amazon Fake Clone account?\n          </p>\n          <Link to=\"/login\">\n            <button className=\"login__button__register\">Go to Login</button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\nimport { useParams, Link } from \"react-router-dom\"\nimport \"./style/Auth.scss\"\nimport { useStateValue } from \"../context/StateProvider\"\n\nfunction Confirmation() {\n  const [validation, setValidation] = useState(\"\")\n  const { key } = useParams()\n  const { user } = useStateValue()[0]\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/auth/confirmation/${key}`)\n      .then(({ data }) => setValidation(data.message))\n  }, [])\n\n  return (\n    <div className=\"login\">\n      <Link to=\"/\">\n        <img\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n          alt=\"logo\"\n          className=\"login__logo\"\n        />\n      </Link>\n\n      <div className=\"login__container\">\n        <h1>Confirmation</h1>\n\n        <p style={{ fontSize: 16, marginBottom: 10 }}>{validation}</p>\n\n        <div className=\"login__register\">\n          <Link to=\"/\" style={{ textDecoration: \"none\", color: \"black\" }}>\n            <button className=\"login__button__login\">Go to home</button>\n          </Link>\n        </div>\n\n        {!user && (\n          <div className=\"login__register\">\n            <Link to=\"/login\">\n              <button className=\"login__button__register\">Go to Log In</button>\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Confirmation\n","import React from \"react\"\nimport \"./style/Auth.scss\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useForm } from \"react-hook-form\"\nimport Input from \"./Input\"\nimport axios from \"axios\"\n\nfunction ForgotPassword() {\n  const { handleSubmit, errors, register } = useForm()\n  const history = useHistory()\n\n  const onSubmit = ({ email }: any) => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/auth/forgot/${email}`)\n      .then(() => {\n        history.push(\"/\")\n        alert(\"Email sent successfully\")\n      })\n  }\n\n  return (\n    <div className=\"login\">\n      <Link to=\"/\">\n        <img\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n          alt=\"logo\"\n          className=\"login__logo\"\n        />\n      </Link>\n\n      <div className=\"login__container\">\n        <h1>Forgot Password</h1>\n\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <Input name=\"email\" errors={errors} register={register} />\n\n          <div className=\"login__register\">\n            <button className=\"login__button__login\">Submit</button>\n\n            <Link to=\"/\" style={{ textDecoration: \"none\", color: \"black\" }}>\n              <button className=\"login__button__register\">Go to home</button>\n            </Link>\n          </div>\n        </form>\n        <p style={{ padding: \"0 5px\" }}>\n          Introduce your email address and we will send you the reset link\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default ForgotPassword\n","import React, { useState, useEffect } from \"react\"\nimport { useParams, useHistory, Link } from \"react-router-dom\"\nimport axios from \"axios\"\nimport Input from \"./Input\"\nimport { useForm } from \"react-hook-form\"\nimport \"./style/Auth.scss\"\n\nfunction ResetPassword() {\n  const { key } = useParams()\n  const history = useHistory()\n  const [validation, setValidation]: [boolean | null, any] = useState(null)\n  const [error, setError] = useState(\"\")\n\n  const { handleSubmit, errors, register } = useForm()\n\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/auth/forgot-validate/${key}`)\n      .then(({ data }: any) => setValidation(data))\n  }, [])\n\n  const onSubmit = (data: any) => {\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/auth/forgot/${key}`, data)\n      .then(() => {\n        history.push(\"/login\")\n        alert(\"Password reset successfuly\")\n      })\n      .catch(({ message }: any) => setError(message))\n  }\n\n  if (validation === null) return <div></div>\n\n  return (\n    <div className=\"login\">\n      <Link to=\"/\">\n        <img\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"\n          alt=\"logo\"\n          className=\"login__logo\"\n        />\n      </Link>\n\n      <div className=\"login__container\">\n        <h1>Forgot Password</h1>\n\n        {validation ? (\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <Input name=\"password\" errors={errors} register={register} />\n\n            <p>{error}</p>\n\n            <div className=\"login__register\">\n              <button className=\"login__button__login\">Reset Password</button>\n\n              <Link to=\"/\" style={{ textDecoration: \"none\", color: \"black\" }}>\n                <button className=\"login__button__register\">\n                  Go to Log In\n                </button>\n              </Link>\n            </div>\n          </form>\n        ) : (\n          <>\n            <h2 style={{ textAlign: \"center\" }}>Invalid Link</h2>\n            <Link to=\"/\" style={{ textDecoration: \"none\", color: \"black\" }}>\n              <button className=\"login__button__register\">Go to Log In</button>\n            </Link>\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default ResetPassword\n","import React, { useEffect, useState } from \"react\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport { useStateValue } from \"../context/StateProvider\"\nimport { basketMap } from \"./Checkout\"\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\"\n// @ts-ignore\nimport CurrencyFormat from \"react-currency-format\"\nimport { getTotal } from \"./components/Subtotal\"\nimport axios from \"axios\"\nimport \"./style/Payment.scss\"\n\nfunction Payment() {\n  const [{ user, basket }, dispatch] = useStateValue()\n\n  const stripe = useStripe()\n  const elements = useElements()\n\n  const [error, setError] = useState(null)\n  const [disabled, setDisabled] = useState(true)\n  const [succeeded, setSucceeded] = useState(false)\n  const [clientSecret, setClientSecret]: [any, any] = useState(true)\n  const [processing, setProcessing] = useState(false)\n\n  const history = useHistory()\n\n  useEffect(() => {\n    const url: string = `${process.env.REACT_APP_API_URL}/user/payment?total=${\n      getTotal(basket) * 100\n    }`\n\n    axios.get(url).then(({ data }: any) => {\n      setClientSecret(data.clientSecret)\n    })\n  }, [basket])\n\n  const handleSubmit = async (event: any) => {\n    event.preventDefault()\n    setProcessing(true)\n\n    // @ts-ignore\n    const payment_method = { card: elements.getElement(CardElement) }\n\n    const payMethod = { payment_method }\n\n    // @ts-ignore\n    const stripePromise = stripe?.confirmCardPayment(clientSecret, payMethod)\n\n    // @ts-ignore\n    await stripePromise.then(({ paymentIntent }) => {\n      setSucceeded(true)\n      setError(null)\n      setProcessing(false)\n    })\n\n    dispatch({ type: \"EMPTY_BASKET\" })\n\n    const url: string = `${process.env.REACT_APP_API_URL}/user/order`\n\n    const data = {\n      basket,\n      userId: user ? user._id : undefined,\n      amount: getTotal(basket),\n    }\n\n    await axios.post(url, data)\n\n    history.replace(\"/orders\")\n  }\n\n  const handleChange = ({ empty, error }: any) => {\n    setDisabled(empty)\n    setError(error ? error.message : \"\")\n  }\n\n  return (\n    <div className=\"payment\">\n      <div className=\"payment__container\">\n        <h1>\n          Checkout (<Link to=\"/checkout\">{basket?.length} items</Link>)\n        </h1>\n\n        <div className=\"payment__container__section\">\n          <div className=\"payment__container__section__title\">\n            <h3>Delivery Address</h3>\n          </div>\n          <div className=\"payment__container__section__address\">\n            <p>{user?._username}</p>\n            <p>123 React Lane</p>\n            <p>Los Angeles, CA</p>\n          </div>\n        </div>\n\n        <div className=\"payment__container__section\">\n          <div className=\"payment__container__section__title\">\n            <h3>Review items and delivery</h3>\n          </div>\n          <div className=\"payment__container__section__items\">\n            {basketMap(basket, false)}\n          </div>\n        </div>\n\n        <div className=\"payment__container__section\">\n          <div className=\"payment__container__section__title\">\n            <h3>Payment Method</h3>\n          </div>\n\n          <div className=\"payment__container__section__details\">\n            <form onSubmit={handleSubmit}>\n              <CardElement onChange={handleChange} />\n\n              <div className=\"payment__container__section__details__price\">\n                <CurrencyFormat\n                  renderText={(value: number) => <h3>Total: {value}</h3>}\n                  decimalScale={2}\n                  value={getTotal(basket)}\n                  displayType=\"text\"\n                  thousandSeparator={true}\n                  prefix=\"$\"\n                />\n                <button disabled={processing || disabled || succeeded}>\n                  <span>{processing ? <p>Processing</p> : \"Buy now\"}</span>\n                </button>\n              </div>\n\n              {error && <div>{error}</div>}\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Payment\n","import React from \"react\"\nimport moment from \"moment\"\nimport { basketMap } from \"../Checkout\"\n// @ts-ignore\nimport CurrencyFormat from \"react-currency-format\"\nimport { getTotal } from \"./Subtotal\"\nimport \"../style/Order.scss\"\n\nfunction Order({ _id, basket, createdAt }: any) {\n  return (\n    <div className=\"order\">\n      <h2>Order</h2>\n      <p>{moment(createdAt).format(\"MMMM Do YYYY, h:mma\")}</p>\n      <p className=\"order__id\">\n        <small>{_id}</small>\n      </p>\n\n      {basketMap(basket, true)}\n\n      <CurrencyFormat\n        renderText={(value: number) => (\n          <h3 className=\"order__total\">Total: {value}</h3>\n        )}\n        decimalScale={2}\n        value={getTotal(basket)}\n        displayType=\"text\"\n        thousandSeparator={true}\n        prefix=\"$\"\n      />\n    </div>\n  )\n}\n\nexport default Order\n","import axios from \"axios\"\nimport React, { useEffect, useState } from \"react\"\nimport { useStateValue } from \"../context/StateProvider\"\nimport Order from \"./components/Order\"\nimport \"./style/Orders.scss\"\n\nfunction Orders() {\n  const { user } = useStateValue()[0]\n  const [orders, setOrders]: [any, any] = useState(\"\")\n\n  useEffect(() => {\n    if (!user) {\n      setOrders(\"You must be logged in to see your orders\")\n      return\n    }\n\n    console.log(user._id)\n    const url: string = `${process.env.REACT_APP_API_URL}/user/orders/${user._id}`\n    console.log(url)\n\n    axios\n      .get(url)\n      .then(({ data }) => setOrders(data.orders))\n      .catch((err) => setOrders(\"No orders found\"))\n  }, [user])\n\n  if (typeof orders === \"string\") {\n    if (orders === \"\") return <div></div>\n    else if (orders.includes(\"logged\"))\n      return (\n        <div>\n          <h4>{orders}</h4>\n        </div>\n      )\n\n    return (\n      <div>\n        <h3>Your orders</h3>\n        <h4>{orders}</h4>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"orders\">\n      <h3>Your orders</h3>\n      <div>\n        {orders.map(({ _id, basket, createdAt }: any) => (\n          <Order _id={_id} basket={basket} createdAt={createdAt} />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Orders\n","import React from \"react\"\nimport \"./App.css\"\nimport Header from \"./core/Header\"\nimport Home from \"./pages/Home\"\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\nimport Checkout from \"./pages/Checkout\"\nimport Login from \"./auth/Login\"\nimport Register from \"./auth/Register\"\nimport { useStateValue } from \"./context/StateProvider\"\nimport Confirmation from \"./auth/Confirmation\"\nimport ForgotPassword from \"./auth/ForgotPassword\"\nimport ResetPassword from \"./auth/ResetPassword\"\nimport Payment from \"./pages/Payment\"\nimport { loadStripe } from \"@stripe/stripe-js\"\nimport { Elements } from \"@stripe/react-stripe-js\"\nimport Orders from \"./pages/Orders\"\n\nconst promise = loadStripe(process.env.REACT_APP_STRIPE_KEY || \"\")\n\nfunction App() {\n  const { user } = useStateValue()[0]\n\n  return (\n    // BEM convention // check\n    <Router>\n      <div className=\"app\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n\n          <Route path=\"/reset-password/:key\">\n            <ResetPassword />\n          </Route>\n          <Route path=\"/confirmation/:key\">\n            <Confirmation />\n          </Route>\n          <Route path=\"/forgot-password\">\n            <ForgotPassword />\n          </Route>\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n\n          {!user && (\n            <>\n              <Route path=\"/login\">\n                <Login />\n              </Route>\n              <Route path=\"/register\">\n                <Register />\n              </Route>\n            </>\n          )}\n        </Switch>\n      </div>\n    </Router>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const getLocalBasket = () => {\n  const basket: string | null = localStorage.getItem(\"basket\")\n\n  return basket ? JSON.parse(basket) : []\n}\n\nconst getLocalUser = () => {\n  const user: string | null = localStorage.getItem(\"user\")\n\n  return user ? JSON.parse(user) : null\n}\n\nexport const initialState = { basket: getLocalBasket(), user: getLocalUser() }\n\nexport const reducer = (state: any, action: any) => {\n  const { type } = action\n  const { basket } = state\n\n  switch (type) {\n    case \"ADD_TO_BASKET\":\n      const newBasket = [...basket, action.item]\n\n      localStorage.setItem(\"basket\", JSON.stringify(newBasket))\n\n      return {\n        ...state,\n        basket: newBasket,\n      }\n\n    case \"REMOVE_FROM_BASKET\":\n      const index = basket.findIndex(({ id }: any) => id === action.id)\n\n      let updateBasket = [...basket]\n\n      if (index >= 0) {\n        updateBasket.splice(index, 1)\n      } else {\n        console.warn(\n          `Can't remove product (id: ${action.id}) as its not in basket!`\n        )\n      }\n\n      localStorage.setItem(\"basket\", JSON.stringify(updateBasket))\n\n      return { ...state, basket: updateBasket }\n\n    case \"EMPTY_BASKET\":\n      const emptyBasket: any[] = []\n\n      localStorage.removeItem(\"basket\")\n\n      return { ...state, basket: emptyBasket }\n\n    case \"SIGNING\":\n      const { user } = action\n\n      localStorage.setItem(\"user\", JSON.stringify(user))\n\n      return { ...state, user }\n\n    case \"UNSIGNING\":\n      localStorage.removeItem(\"user\")\n\n      return { ...state, user: null }\n\n    default:\n      return state\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\nimport { StateProvider } from \"./context/StateProvider\"\nimport { initialState, reducer } from \"./context/reducer\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n\nserviceWorker.unregister()\n"],"sourceRoot":""}